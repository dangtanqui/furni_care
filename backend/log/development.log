[dotenv] Set [36mDATABASE_PASSWORD[0m, [36mDATABASE_PORT[0m, [36mJWT_SECRET[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m, [36mDATABASE_PORT[0m, [36mJWT_SECRET[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE DATABASE `furni_care_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE DATABASE `furni_care_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (40.1ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (37.3ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('2287916445801775215', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.7ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2025-12-17 14:24:51.404510', '2025-12-17 14:24:51.404514')[0m
Migrating to CreateUsers (20241217000001)
  [1m[35m (34.5ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) NOT NULL, `password_digest` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `role` varchar(255) DEFAULT 'cs', `phone` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (19.7ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_users_on_email` ON `users` (`email`)[0m
  [1m[36mActiveRecord::SchemaMigration Create (2.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20241217000001')[0m
Migrating to CreateClients (20241217000002)
  [1m[35m (35.1ms)[0m  [1m[35mCREATE TABLE `clients` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255) NOT NULL, `code` varchar(255), `address` varchar(255), `phone` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (3.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20241217000002')[0m
Migrating to CreateSites (20241217000003)
  [1m[35m (38.9ms)[0m  [1m[35mCREATE TABLE `sites` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `client_id` bigint NOT NULL, `name` varchar(255) NOT NULL, `address` varchar(255), `city` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_sites_on_client_id` (`client_id`), CONSTRAINT `fk_rails_092a517eb4`
FOREIGN KEY (`client_id`)
  REFERENCES `clients` (`id`)
)[0m
  [1m[36mActiveRecord::SchemaMigration Create (2.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20241217000003')[0m
Migrating to CreateContacts (20241217000004)
  [1m[35m (39.8ms)[0m  [1m[35mCREATE TABLE `contacts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `site_id` bigint NOT NULL, `name` varchar(255) NOT NULL, `phone` varchar(255), `email` varchar(255), `position` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_contacts_on_site_id` (`site_id`), CONSTRAINT `fk_rails_b047c9e967`
FOREIGN KEY (`site_id`)
  REFERENCES `sites` (`id`)
)[0m
  [1m[36mActiveRecord::SchemaMigration Create (2.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20241217000004')[0m
Migrating to CreateCases (20241217000005)
  [1m[35m (51.2ms)[0m  [1m[35mCREATE TABLE `cases` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `case_number` varchar(255) NOT NULL, `client_id` bigint NOT NULL, `site_id` bigint NOT NULL, `contact_id` bigint NOT NULL, `created_by_id` bigint NOT NULL, `assigned_to_id` bigint, `description` text, `case_type` varchar(255), `priority` varchar(255) DEFAULT 'medium', `investigation_report` text, `investigation_checklist` text, `root_cause` text, `solution_description` text, `solution_checklist` text, `planned_execution_date` date, `cost_required` tinyint(1) DEFAULT FALSE, `estimated_cost` decimal(15,2), `cost_description` text, `cost_status` varchar(255), `cost_approved_by_id` bigint, `execution_report` text, `execution_checklist` text, `client_signature` text, `client_feedback` text, `client_rating` int, `cs_notes` text, `final_feedback` text, `final_rating` int, `current_stage` int DEFAULT 1, `status` varchar(255) DEFAULT 'open', `attempt_number` int DEFAULT 1, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_cases_on_client_id` (`client_id`), INDEX `index_cases_on_site_id` (`site_id`), INDEX `index_cases_on_contact_id` (`contact_id`), INDEX `index_cases_on_created_by_id` (`created_by_id`), INDEX `index_cases_on_assigned_to_id` (`assigned_to_id`), INDEX `index_cases_on_cost_approved_by_id` (`cost_approved_by_id`), CONSTRAINT `fk_rails_82f2d9da93`
FOREIGN KEY (`client_id`)
  REFERENCES `clients` (`id`)
, CONSTRAINT `fk_rails_af5ee5fc16`
FOREIGN KEY (`site_id`)
  REFERENCES `sites` (`id`)
, CONSTRAINT `fk_rails_72fea07d4a`
FOREIGN KEY (`contact_id`)
  REFERENCES `contacts` (`id`)
, CONSTRAINT `fk_rails_0cfe150315`
FOREIGN KEY (`created_by_id`)
  REFERENCES `users` (`id`)
, CONSTRAINT `fk_rails_73b246e8af`
FOREIGN KEY (`assigned_to_id`)
  REFERENCES `users` (`id`)
, CONSTRAINT `fk_rails_930012f023`
FOREIGN KEY (`cost_approved_by_id`)
  REFERENCES `users` (`id`)
)[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_cases_on_case_number` ON `cases` (`case_number`)[0m
  [1m[35m (16.0ms)[0m  [1m[35mCREATE INDEX `index_cases_on_status` ON `cases` (`status`)[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE INDEX `index_cases_on_current_stage` ON `cases` (`current_stage`)[0m
  [1m[36mActiveRecord::SchemaMigration Create (2.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20241217000005')[0m
Migrating to CreateCaseAttachments (20241217000006)
  [1m[35m (38.1ms)[0m  [1m[35mCREATE TABLE `case_attachments` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `case_id` bigint NOT NULL, `stage` int NOT NULL, `attachment_type` varchar(255), `file_name` varchar(255), `file_url` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_case_attachments_on_case_id` (`case_id`), CONSTRAINT `fk_rails_3fcb3917e0`
FOREIGN KEY (`case_id`)
  REFERENCES `cases` (`id`)
)[0m
  [1m[36mActiveRecord::SchemaMigration Create (2.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20241217000006')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('2287916445801775215')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'cs@demo.com' LIMIT 1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO `users` (`email`, `password_digest`, `name`, `role`, `phone`, `created_at`, `updated_at`) VALUES ('cs@demo.com', '$2a$12$/91ajHpwj/g9sKC8kivlde.TK.je0JnFdyD0uF/0aELE871GhcxOy', 'CS Demo', 'cs', NULL, '2025-12-17 14:24:52.340281', '2025-12-17 14:24:52.340281')[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'tech@demo.com' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `password_digest`, `name`, `role`, `phone`, `created_at`, `updated_at`) VALUES ('tech@demo.com', '$2a$12$dyms2nkhxLlKPTMbqhlS.uMOpNFNuU.q9ZQokymRrONxLjYz47CqO', 'Tech Demo', 'technician', NULL, '2025-12-17 14:24:52.534632', '2025-12-17 14:24:52.534632')[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'leader@demo.com' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `password_digest`, `name`, `role`, `phone`, `created_at`, `updated_at`) VALUES ('leader@demo.com', '$2a$12$UMKMQn4uwb9Z2H3SA2HEgu2JiqXcfVIFGcpnHbTt8/RYKRubivNNi', 'Leader Demo', 'leader', NULL, '2025-12-17 14:24:52.727564', '2025-12-17 14:24:52.727564')[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mClient Create (5.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `code`, `address`, `phone`, `created_at`, `updated_at`) VALUES ('ABC Furniture', 'ABC', '123 Main St', '0901234567', '2025-12-17 14:24:52.745862', '2025-12-17 14:24:52.745862')[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mClient Create (1.1ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `code`, `address`, `phone`, `created_at`, `updated_at`) VALUES ('XYZ Interior', 'XYZ', '456 Oak Ave', '0912345678', '2025-12-17 14:24:52.755396', '2025-12-17 14:24:52.755396')[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSite Create (1.2ms)[0m  [1m[32mINSERT INTO `sites` (`client_id`, `name`, `address`, `city`, `created_at`, `updated_at`) VALUES (1, 'HCM Office', '789 District 1', 'HCM', '2025-12-17 14:24:52.862654', '2025-12-17 14:24:52.862654')[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSite Create (1.0ms)[0m  [1m[32mINSERT INTO `sites` (`client_id`, `name`, `address`, `city`, `created_at`, `updated_at`) VALUES (1, 'HN Branch', '321 Hoan Kiem', 'HN', '2025-12-17 14:24:52.868597', '2025-12-17 14:24:52.868597')[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSite Create (1.5ms)[0m  [1m[32mINSERT INTO `sites` (`client_id`, `name`, `address`, `city`, `created_at`, `updated_at`) VALUES (2, 'Da Nang Store', '555 Beach Rd', 'DN', '2025-12-17 14:24:52.873889', '2025-12-17 14:24:52.873889')[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mContact Create (1.4ms)[0m  [1m[32mINSERT INTO `contacts` (`site_id`, `name`, `phone`, `email`, `position`, `created_at`, `updated_at`) VALUES (1, 'Nguyen Van A', '0901111111', 'a@abc.com', 'Manager', '2025-12-17 14:24:52.890669', '2025-12-17 14:24:52.890669')[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mContact Create (1.0ms)[0m  [1m[32mINSERT INTO `contacts` (`site_id`, `name`, `phone`, `email`, `position`, `created_at`, `updated_at`) VALUES (1, 'Tran Thi B', '0902222222', 'b@abc.com', 'Staff', '2025-12-17 14:24:52.896659', '2025-12-17 14:24:52.896659')[0m
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mContact Create (1.7ms)[0m  [1m[32mINSERT INTO `contacts` (`site_id`, `name`, `phone`, `email`, `position`, `created_at`, `updated_at`) VALUES (2, 'Le Van C', '0903333333', 'c@abc.com', 'Manager', '2025-12-17 14:24:52.903422', '2025-12-17 14:24:52.903422')[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mContact Create (1.1ms)[0m  [1m[32mINSERT INTO `contacts` (`site_id`, `name`, `phone`, `email`, `position`, `created_at`, `updated_at`) VALUES (3, 'Pham Thi D', '0904444444', 'd@xyz.com', 'Director', '2025-12-17 14:24:52.909409', '2025-12-17 14:24:52.909409')[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m, [36mDATABASE_PORT[0m, [36mJWT_SECRET[0m
[dotenv] Loaded [33m.env[0m
Started POST "/api/auth/login" for ::1 at 2025-12-17 21:31:14 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Api::AuthController#login as HTML
  Parameters: {"email"=>"cs@demo.com", "password"=>"[FILTERED]", "auth"=>{"email"=>"cs@demo.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'cs@demo.com' LIMIT 1[0m
  â†³ app/controllers/api/auth_controller.rb:5:in `login'
Completed 200 OK in 349ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 20817)


Started GET "/api/auth/me" for ::1 at 2025-12-17 21:31:16 +0700
Started GET "/api/cases" for ::1 at 2025-12-17 21:31:16 +0700
Processing by Api::AuthController#me as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 873)


Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 264ms (Views: 0.2ms | ActiveRecord: 3.2ms | Allocations: 17699)


Started GET "/api/cases" for ::1 at 2025-12-17 21:31:16 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1192)


Started GET "/api/clients" for ::1 at 2025-12-17 21:33:31 +0700
Processing by Api::ClientsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.4ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` ORDER BY `clients`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:4:in `map'
Completed 200 OK in 17ms (Views: 0.1ms | ActiveRecord: 2.2ms | Allocations: 6569)


Started GET "/api/clients" for ::1 at 2025-12-17 21:33:32 +0700
Processing by Api::ClientsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` ORDER BY `clients`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1076)


Started GET "/api/clients/1/sites" for ::1 at 2025-12-17 21:33:53 +0700
Processing by Api::ClientsController#sites as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/clients_controller.rb:8:in `sites'
  [1m[36mSite Load (0.3ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`client_id` = 1 ORDER BY `sites`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:10:in `map'
Completed 200 OK in 106ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 12067)


Started GET "/api/sites/2/contacts" for ::1 at 2025-12-17 21:34:32 +0700
Processing by Api::SitesController#contacts as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/sites_controller.rb:3:in `contacts'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`site_id` = 2 ORDER BY `contacts`.`name` ASC[0m
  â†³ app/controllers/api/sites_controller.rb:5:in `map'
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 7571)


Started GET "/api/sites/1/contacts" for ::1 at 2025-12-17 21:34:34 +0700
Processing by Api::SitesController#contacts as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/sites_controller.rb:3:in `contacts'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`site_id` = 1 ORDER BY `contacts`.`name` ASC[0m
  â†³ app/controllers/api/sites_controller.rb:5:in `map'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1641)


Started POST "/api/cases" for ::1 at 2025-12-17 21:36:41 +0700
Processing by Api::CasesController#create as HTML
  Parameters: {"client_id"=>1, "site_id"=>1, "contact_id"=>1, "description"=>"Bong trÃ³c sÆ¡n", "case_type"=>"warranty", "priority"=>"high", "case"=>{"client_id"=>1, "site_id"=>1, "contact_id"=>1, "description"=>"Bong trÃ³c sÆ¡n", "case_type"=>"warranty", "priority"=>"high"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
[31mUnpermitted parameter: :case. Context: { controller: Api::CasesController, action: create, request: #<ActionDispatch::Request:0x0000020ef18ab9a0>, params: {"client_id"=>1, "site_id"=>1, "contact_id"=>1, "description"=>"Bong trÃ³c sÆ¡n", "case_type"=>"warranty", "priority"=>"high", "controller"=>"api/cases", "action"=>"create", "case"=>{"client_id"=>1, "site_id"=>1, "contact_id"=>1, "description"=>"Bong trÃ³c sÆ¡n", "case_type"=>"warranty", "priority"=>"high"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/case.rb:34:in `generate_case_number'
  [1m[36mCase Load (0.4ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC LIMIT 1[0m
  â†³ app/models/case.rb:34:in `generate_case_number'
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:27:in `create'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:27:in `create'
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:27:in `create'
  [1m[36mCase Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `cases` WHERE `cases`.`case_number` = 'C-0001' LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:27:in `create'
  [1m[36mCase Create (0.8ms)[0m  [1m[32mINSERT INTO `cases` (`case_number`, `client_id`, `site_id`, `contact_id`, `created_by_id`, `assigned_to_id`, `description`, `case_type`, `priority`, `investigation_report`, `investigation_checklist`, `root_cause`, `solution_description`, `solution_checklist`, `planned_execution_date`, `cost_required`, `estimated_cost`, `cost_description`, `cost_status`, `cost_approved_by_id`, `execution_report`, `execution_checklist`, `client_signature`, `client_feedback`, `client_rating`, `cs_notes`, `final_feedback`, `final_rating`, `current_stage`, `status`, `attempt_number`, `created_at`, `updated_at`) VALUES ('C-0001', 1, 1, 1, 1, NULL, 'Bong trÃ³c sÆ¡n', 'warranty', 'high', NULL, NULL, NULL, NULL, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 1, 'open', 1, '2025-12-17 14:36:41.528792', '2025-12-17 14:36:41.528792')[0m
  â†³ app/controllers/api/cases_controller.rb:27:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/cases_controller.rb:27:in `create'
Completed 201 Created in 46ms (Views: 0.3ms | ActiveRecord: 5.4ms | Allocations: 25277)


Started GET "/api/cases" for ::1 at 2025-12-17 21:36:41 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 122ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 9901)


Started GET "/api/cases" for ::1 at 2025-12-17 21:36:41 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 4173)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:37:40 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 21:37:40 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 3758)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:37:40 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 3244)


Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1156)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 21:37:41 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1070)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:42:23 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"assigned_to_id"=>2, "id"=>"1", "case"=>{"assigned_to_id"=>2}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020eeee84898>, params: {"assigned_to_id"=>2, "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"assigned_to_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mCase Update (0.3ms)[0m  [1m[33mUPDATE `cases` SET `cases`.`assigned_to_id` = 2, `cases`.`updated_at` = '2025-12-17 14:42:23.629485' WHERE `cases`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 7.1ms | Allocations: 6345)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:42:23 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.3ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 3662)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:42:44 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"assigned_to_id"=>2, "id"=>"1", "case"=>{"assigned_to_id"=>2}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef13ccc68>, params: {"assigned_to_id"=>2, "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"assigned_to_id"=>2}} }[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 1.3ms | Allocations: 4115)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:42:44 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 3663)


Started POST "/api/cases/1/advance_stage" for ::1 at 2025-12-17 21:42:46 +0700
Processing by Api::CasesController#advance_stage as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/cases_controller.rb:54:in `advance_stage'
  [1m[36mCase Update (0.4ms)[0m  [1m[33mUPDATE `cases` SET `cases`.`current_stage` = 2, `cases`.`updated_at` = '2025-12-17 14:42:46.070554' WHERE `cases`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:54:in `advance_stage'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/cases_controller.rb:54:in `advance_stage'
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 4.3ms | Allocations: 5386)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:42:46 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 3657)


Started POST "/api/auth/login" for ::1 at 2025-12-17 21:47:57 +0700
Processing by Api::AuthController#login as HTML
  Parameters: {"email"=>"tech@demo.com", "password"=>"[FILTERED]", "auth"=>{"email"=>"tech@demo.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'tech@demo.com' LIMIT 1[0m
  â†³ app/controllers/api/auth_controller.rb:5:in `login'
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 553)


Started GET "/api/auth/me" for ::1 at 2025-12-17 21:47:57 +0700
Started GET "/api/cases" for ::1 at 2025-12-17 21:47:57 +0700
Processing by Api::AuthController#me as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::CasesController#index as HTML
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 781)


  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (1.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.8ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.6ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 4.9ms | Allocations: 5027)


Started GET "/api/cases" for ::1 at 2025-12-17 21:47:57 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 4745)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:48:14 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 21:48:14 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.5ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
  [1m[36mClient Load (0.5ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 2022)


  [1m[36mSite Load (0.5ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 5319)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 21:48:14 +0700
Started GET "/api/cases/1" for ::1 at 2025-12-17 21:48:14 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1095)


Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 3657)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:48:37 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"investigation_report"=>"Cáº§n thay lá»‘p má»›i", "id"=>"1", "case"=>{"investigation_report"=>"Cáº§n thay lá»‘p má»›i"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef16f07a0>, params: {"investigation_report"=>"Cáº§n thay lá»‘p má»›i", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"investigation_report"=>"Cáº§n thay lá»‘p má»›i"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mCase Update (0.4ms)[0m  [1m[33mUPDATE `cases` SET `cases`.`investigation_report` = 'Cáº§n thay lá»‘p má»›i', `cases`.`updated_at` = '2025-12-17 14:48:37.448112' WHERE `cases`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 4.4ms | Allocations: 5596)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:48:37 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 3660)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:48:40 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"investigation_report"=>"Cáº§n thay lá»‘p má»›i", "id"=>"1", "case"=>{"investigation_report"=>"Cáº§n thay lá»‘p má»›i"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef15c8530>, params: {"investigation_report"=>"Cáº§n thay lá»‘p má»›i", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"investigation_report"=>"Cáº§n thay lá»‘p má»›i"}} }[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 4113)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:48:40 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 3660)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:50:50 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"investigation_report"=>"Cáº§n thay lá»‘p má»›i", "investigation_checklist"=>"[true,true,true]", "id"=>"1", "case"=>{"investigation_report"=>"Cáº§n thay lá»‘p má»›i", "investigation_checklist"=>"[true,true,true]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef0fbc308>, params: {"investigation_report"=>"Cáº§n thay lá»‘p má»›i", "investigation_checklist"=>"[true,true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"investigation_report"=>"Cáº§n thay lá»‘p má»›i", "investigation_checklist"=>"[true,true,true]"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mCase Update (0.4ms)[0m  [1m[33mUPDATE `cases` SET `cases`.`investigation_checklist` = '[true,true,true]', `cases`.`updated_at` = '2025-12-17 14:50:50.765009' WHERE `cases`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 4.2ms | Allocations: 5619)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:50:50 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 3662)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:52:17 +0700
Started POST "/api/cases/1/advance_stage" for ::1 at 2025-12-17 21:52:17 +0700
Processing by Api::CasesController#advance_stage as HTML
  Parameters: {"id"=>"1"}
Processing by Api::CasesController#update as HTML
  Parameters: {"investigation_report"=>"Cáº§n thay lá»‘p má»›i", "investigation_checklist"=>"[true,true,true]", "id"=>"1", "case"=>{"investigation_report"=>"Cáº§n thay lá»‘p má»›i", "investigation_checklist"=>"[true,true,true]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.6ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mCase Load (1.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/cases_controller.rb:54:in `advance_stage'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef0d9fd40>, params: {"investigation_report"=>"Cáº§n thay lá»‘p má»›i", "investigation_checklist"=>"[true,true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"investigation_report"=>"Cáº§n thay lá»‘p má»›i", "investigation_checklist"=>"[true,true,true]"}} }[0m
  [1m[36mCase Update (1.0ms)[0m  [1m[33mUPDATE `cases` SET `cases`.`current_stage` = 3, `cases`.`updated_at` = '2025-12-17 14:52:17.558137' WHERE `cases`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:54:in `advance_stage'
  [1m[36mClient Load (0.6ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 6287)


  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/cases_controller.rb:54:in `advance_stage'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 7.9ms | Allocations: 10047)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:52:17 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 3667)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:52:17 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 3667)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:55:58 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"", "solution_description"=>"", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"", "solution_description"=>"", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.4ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef16151f0>, params: {"root_cause"=>"", "solution_description"=>"", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"", "solution_description"=>"", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mCase Update (0.4ms)[0m  [1m[33mUPDATE `cases` SET `cases`.`root_cause` = '', `cases`.`solution_description` = '', `cases`.`solution_checklist` = '[true,true]', `cases`.`planned_execution_date` = '2025-12-18', `cases`.`cost_required` = TRUE, `cases`.`estimated_cost` = 9.0, `cases`.`cost_description` = 'Sá»­ dá»¥ng hÃ£ng tá»‘t', `cases`.`updated_at` = '2025-12-17 14:55:58.483730' WHERE `cases`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 4.7ms | Allocations: 5819)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:55:58 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 3686)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:56:00 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"", "solution_description"=>"", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"", "solution_description"=>"", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef0fb4f68>, params: {"root_cause"=>"", "solution_description"=>"", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"", "solution_description"=>"", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 4260)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:56:00 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 3685)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:56:00 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"", "solution_description"=>"", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"", "solution_description"=>"", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef182b908>, params: {"root_cause"=>"", "solution_description"=>"", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"", "solution_description"=>"", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 1.3ms | Allocations: 4248)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:56:00 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 3685)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:56:11 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"", "solution_description"=>"", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"", "solution_description"=>"", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef13c0468>, params: {"root_cause"=>"", "solution_description"=>"", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"", "solution_description"=>"", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.3ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 4248)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:56:11 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.3ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 3685)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:56:59 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef1927b40>, params: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mCase Update (0.5ms)[0m  [1m[33mUPDATE `cases` SET `cases`.`root_cause` = 'Lá»‘t Ä‘Ã£ mÃ²n', `cases`.`solution_description` = 'Cáº§n thay lá»‘p má»›i', `cases`.`updated_at` = '2025-12-17 14:56:59.511704' WHERE `cases`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 4.5ms | Allocations: 5722)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:56:59 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 3686)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:57:00 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef148d210>, params: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 4252)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:57:00 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 3686)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:57:00 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020eefcc65f0>, params: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 4252)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:57:00 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 3686)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:57:01 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef0d92d20>, params: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 4252)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:57:01 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 3686)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:57:01 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef1cb5000>, params: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.4ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 14ms (Views: 0.4ms | ActiveRecord: 1.8ms | Allocations: 4252)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:57:01 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.3ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 12ms (Views: 0.5ms | ActiveRecord: 1.7ms | Allocations: 3686)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:57:01 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef161ebb0>, params: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 4252)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:57:01 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 3686)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:57:57 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef12e4080>, params: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 4252)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:57:57 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.3ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 3686)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:57:57 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020eeda51c40>, params: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 4252)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:57:57 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 3686)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:57:57 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef13c7da8>, params: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 4252)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:57:57 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 3686)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:57:57 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef196d668>, params: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 4252)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:57:57 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 3686)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:58:24 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef15c73b0>, params: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 15ms (Views: 0.6ms | ActiveRecord: 1.9ms | Allocations: 4252)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:58:24 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.5ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 3686)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:58:26 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 21:58:26 +0700
Started GET "/api/auth/me" for ::1 at 2025-12-17 21:58:26 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
Processing by Api::AuthController#me as HTML
  [1m[36mClient Load (0.6ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 4331)


  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 2.6ms | Allocations: 6200)


Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 4074)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 21:58:26 +0700
Started GET "/api/auth/me" for ::1 at 2025-12-17 21:58:26 +0700
Started GET "/api/cases/1" for ::1 at 2025-12-17 21:58:26 +0700
Processing by Api::AuthController#me as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::UsersController#technicians as HTML
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 795)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 1658)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.8ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.7ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.7ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 13ms (Views: 0.6ms | ActiveRecord: 3.5ms | Allocations: 4276)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 21:58:31 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef17af010>, params: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 10ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 4252)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:58:31 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 3686)


Started POST "/api/auth/login" for ::1 at 2025-12-17 21:58:53 +0700
Processing by Api::AuthController#login as HTML
  Parameters: {"email"=>"lead@demo.com", "password"=>"[FILTERED]", "auth"=>{"email"=>"lead@demo.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'lead@demo.com' LIMIT 1[0m
  â†³ app/controllers/api/auth_controller.rb:5:in `login'
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 444)


Started POST "/api/auth/login" for ::1 at 2025-12-17 21:58:59 +0700
Processing by Api::AuthController#login as HTML
  Parameters: {"email"=>"leader@demo.com", "password"=>"[FILTERED]", "auth"=>{"email"=>"leader@demo.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'leader@demo.com' LIMIT 1[0m
  â†³ app/controllers/api/auth_controller.rb:5:in `login'
Completed 200 OK in 187ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 547)


Started GET "/api/auth/me" for ::1 at 2025-12-17 21:58:59 +0700
Started GET "/api/cases" for ::1 at 2025-12-17 21:58:59 +0700
Processing by Api::AuthController#me as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::CasesController#index as HTML
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 781)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 4946)


Started GET "/api/cases" for ::1 at 2025-12-17 21:58:59 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 4761)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:59:00 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 21:59:00 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::UsersController#technicians as HTML
  [1m[36mCase Load (0.4ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.5ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
  [1m[36mSite Load (0.5ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 2201)


  [1m[36mContact Load (0.5ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 2.7ms | Allocations: 5285)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 21:59:01 +0700
Started GET "/api/cases/1" for ::1 at 2025-12-17 21:59:01 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1477)


  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 4408)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:59:46 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 21:59:46 +0700
Started GET "/api/auth/me" for ::1 at 2025-12-17 21:59:46 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1503)


  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
Started GET "/api/users/technicians" for ::1 at 2025-12-17 21:59:46 +0700
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 4870)


Processing by Api::AuthController#me as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 568)


Started GET "/api/cases/1" for ::1 at 2025-12-17 21:59:46 +0700
Started GET "/api/auth/me" for ::1 at 2025-12-17 21:59:46 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1101)


Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 3874)


Processing by Api::AuthController#me as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 561)


Started POST "/api/cases/1/approve_cost" for ::1 at 2025-12-17 22:00:27 +0700
Processing by Api::CasesController#approve_cost as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/cases_controller.rb:66:in `approve_cost'
  [1m[36mCase Update (0.4ms)[0m  [1m[33mUPDATE `cases` SET `cases`.`cost_status` = 'approved', `cases`.`cost_approved_by_id` = 3, `cases`.`updated_at` = '2025-12-17 15:00:27.464792' WHERE `cases`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:66:in `approve_cost'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/cases_controller.rb:66:in `approve_cost'
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 4.5ms | Allocations: 5456)


Started GET "/api/cases/1" for ::1 at 2025-12-17 22:00:27 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 1.2ms | Allocations: 3786)


Started POST "/api/auth/login" for ::1 at 2025-12-17 22:00:42 +0700
Processing by Api::AuthController#login as HTML
  Parameters: {"email"=>"cs@demo.com", "password"=>"[FILTERED]", "auth"=>{"email"=>"cs@demo.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'cs@demo.com' LIMIT 1[0m
  â†³ app/controllers/api/auth_controller.rb:5:in `login'
Completed 200 OK in 186ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 547)


Started GET "/api/auth/me" for ::1 at 2025-12-17 22:00:42 +0700
Started GET "/api/cases" for ::1 at 2025-12-17 22:00:42 +0700
Processing by Api::AuthController#me as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 584)


Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 4762)


Started GET "/api/cases" for ::1 at 2025-12-17 22:00:42 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.4ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 4762)


Started GET "/api/cases/1" for ::1 at 2025-12-17 22:00:43 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:00:43 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.8ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
  [1m[36mClient Load (0.5ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 2067)


  [1m[36mSite Load (0.8ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 5189)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:00:43 +0700
Started GET "/api/cases/1" for ::1 at 2025-12-17 22:00:43 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1477)


  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 4312)


Started POST "/api/auth/login" for ::1 at 2025-12-17 22:01:25 +0700
Processing by Api::AuthController#login as HTML
  Parameters: {"email"=>"tech@demo.com", "password"=>"[FILTERED]", "auth"=>{"email"=>"tech@demo.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'tech@demo.com' LIMIT 1[0m
  â†³ app/controllers/api/auth_controller.rb:5:in `login'
Completed 200 OK in 186ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 547)


Started GET "/api/auth/me" for ::1 at 2025-12-17 22:01:25 +0700
Started GET "/api/cases" for ::1 at 2025-12-17 22:01:25 +0700
Processing by Api::AuthController#me as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 569)


Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 4762)


Started GET "/api/cases" for ::1 at 2025-12-17 22:01:25 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 4762)


Started GET "/api/cases/1" for ::1 at 2025-12-17 22:01:26 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:01:26 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.7ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
  [1m[36mClient Load (0.5ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 2067)


  [1m[36mSite Load (0.5ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 3.2ms | Allocations: 5189)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:01:26 +0700
Started GET "/api/cases/1" for ::1 at 2025-12-17 22:01:26 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1084)


Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.3ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 3688)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 22:01:30 +0700
Started POST "/api/cases/1/advance_stage" for ::1 at 2025-12-17 22:01:30 +0700
Processing by Api::CasesController#advance_stage as HTML
  Parameters: {"id"=>"1"}
Processing by Api::CasesController#update as HTML
  Parameters: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.5ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mCase Load (1.4ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/cases_controller.rb:54:in `advance_stage'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef045ab40>, params: {"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t", "solution_checklist"=>"[true,true]", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"root_cause"=>"Lá»‘t Ä‘Ã£ mÃ²n", "solution_description"=>"Cáº§n thay lá»‘p má»›i", "solution_checklist"=>"[true,true]", "planned_execution_date"=>"2025-12-18", "cost_required"=>true, "estimated_cost"=>"9.0", "cost_description"=>"Sá»­ dá»¥ng hÃ£ng tá»‘t"}} }[0m
  [1m[36mCase Update (1.5ms)[0m  [1m[33mUPDATE `cases` SET `cases`.`current_stage` = 4, `cases`.`updated_at` = '2025-12-17 15:01:30.900491' WHERE `cases`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:54:in `advance_stage'
  [1m[36mClient Load (0.6ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/cases_controller.rb:54:in `advance_stage'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 2.7ms | Allocations: 6852)


  [1m[36mClient Load (0.6ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 7.9ms | Allocations: 10209)


Started GET "/api/cases/1" for ::1 at 2025-12-17 22:01:30 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 3683)


Started GET "/api/cases/1" for ::1 at 2025-12-17 22:01:30 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 3683)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 22:03:20 +0700
Started POST "/api/cases/1/advance_stage" for ::1 at 2025-12-17 22:03:20 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"execution_report"=>"QuÃ¡ trÃ¬nh thay lá»‘p hoÃ n táº¥t", "client_feedback"=>"NhÃ¢n viÃªn ráº¥t nhiá»‡t tÃ¬nh", "client_rating"=>3, "id"=>"1", "case"=>{"execution_report"=>"QuÃ¡ trÃ¬nh thay lá»‘p hoÃ n táº¥t", "client_feedback"=>"NhÃ¢n viÃªn ráº¥t nhiá»‡t tÃ¬nh", "client_rating"=>3}}
Processing by Api::CasesController#advance_stage as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.5ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef15c1d70>, params: {"execution_report"=>"QuÃ¡ trÃ¬nh thay lá»‘p hoÃ n táº¥t", "client_feedback"=>"NhÃ¢n viÃªn ráº¥t nhiá»‡t tÃ¬nh", "client_rating"=>3, "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"execution_report"=>"QuÃ¡ trÃ¬nh thay lá»‘p hoÃ n táº¥t", "client_feedback"=>"NhÃ¢n viÃªn ráº¥t nhiá»‡t tÃ¬nh", "client_rating"=>3}} }[0m
  [1m[36mCase Load (1.0ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/cases_controller.rb:54:in `advance_stage'
  [1m[36mCase Update (0.6ms)[0m  [1m[33mUPDATE `cases` SET `cases`.`execution_report` = 'QuÃ¡ trÃ¬nh thay lá»‘p hoÃ n táº¥t', `cases`.`client_feedback` = 'NhÃ¢n viÃªn ráº¥t nhiá»‡t tÃ¬nh', `cases`.`client_rating` = 3, `cases`.`updated_at` = '2025-12-17 15:03:20.665998' WHERE `cases`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mCase Update (1.0ms)[0m  [1m[33mUPDATE `cases` SET `cases`.`current_stage` = 5, `cases`.`updated_at` = '2025-12-17 15:03:20.667426' WHERE `cases`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:54:in `advance_stage'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/cases_controller.rb:54:in `advance_stage'
  [1m[36mContact Load (0.8ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mClient Load (0.5ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mSite Load (0.5ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
  [1m[36mContact Load (0.5ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 6.9ms | Allocations: 9805)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 8.9ms | Allocations: 11125)


Started GET "/api/cases/1" for ::1 at 2025-12-17 22:03:20 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 3689)


Started GET "/api/cases/1" for ::1 at 2025-12-17 22:03:20 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 3689)


Started POST "/api/auth/login" for ::1 at 2025-12-17 22:03:42 +0700
Processing by Api::AuthController#login as HTML
  Parameters: {"email"=>"cs@demo.com", "password"=>"[FILTERED]", "auth"=>{"email"=>"cs@demo.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'cs@demo.com' LIMIT 1[0m
  â†³ app/controllers/api/auth_controller.rb:5:in `login'
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 547)


Started GET "/api/auth/me" for ::1 at 2025-12-17 22:03:43 +0700
Started GET "/api/cases" for ::1 at 2025-12-17 22:03:43 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::AuthController#me as HTML
  [1m[36mCase Load (0.5ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.5ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1230)


  [1m[36mSite Load (0.5ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 5763)


Started GET "/api/cases" for ::1 at 2025-12-17 22:03:43 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 4758)


Started GET "/api/cases/1" for ::1 at 2025-12-17 22:03:43 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:03:43 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.5ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
  [1m[36mClient Load (0.5ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 2069)


  [1m[36mSite Load (0.4ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 3.0ms | Allocations: 5190)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:03:43 +0700
Started GET "/api/cases/1" for ::1 at 2025-12-17 22:03:43 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1477)


  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 4313)


Started PATCH "/api/cases/1" for ::1 at 2025-12-17 22:06:20 +0700
Processing by Api::CasesController#update as HTML
  Parameters: {"cs_notes"=>"ÄÃ£ nháº­n xe", "final_feedback"=>"", "final_rating"=>3, "status"=>"closed", "id"=>"1", "case"=>{"cs_notes"=>"ÄÃ£ nháº­n xe", "final_feedback"=>"", "final_rating"=>3, "status"=>"closed"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
[31mUnpermitted parameters: :id, :case. Context: { controller: Api::CasesController, action: update, request: #<ActionDispatch::Request:0x0000020ef12ed900>, params: {"cs_notes"=>"ÄÃ£ nháº­n xe", "final_feedback"=>"", "final_rating"=>3, "status"=>"closed", "controller"=>"api/cases", "action"=>"update", "id"=>"1", "case"=>{"cs_notes"=>"ÄÃ£ nháº­n xe", "final_feedback"=>"", "final_rating"=>3, "status"=>"closed"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mCase Update (0.4ms)[0m  [1m[33mUPDATE `cases` SET `cases`.`cs_notes` = 'ÄÃ£ nháº­n xe', `cases`.`final_feedback` = '', `cases`.`final_rating` = 3, `cases`.`status` = 'closed', `cases`.`updated_at` = '2025-12-17 15:06:20.306657' WHERE `cases`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/cases_controller.rb:35:in `update'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 18ms (Views: 0.4ms | ActiveRecord: 6.7ms | Allocations: 5686)


Started GET "/api/cases/1" for ::1 at 2025-12-17 22:06:20 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:92:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:133:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 3693)


Started GET "/api/cases" for ::1 at 2025-12-17 22:06:50 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.4ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.4ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 4760)


Started GET "/api/cases" for ::1 at 2025-12-17 22:06:50 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 4760)


Started POST "/api/auth/login" for ::1 at 2025-12-17 22:07:20 +0700
Processing by Api::AuthController#login as HTML
  Parameters: {"email"=>"cs@demo.com", "password"=>"[FILTERED]", "auth"=>{"email"=>"cs@demo.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'cs@demo.com' LIMIT 1[0m
  â†³ app/controllers/api/auth_controller.rb:5:in `login'
Completed 200 OK in 187ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 548)


Started GET "/api/auth/me" for ::1 at 2025-12-17 22:07:20 +0700
Started GET "/api/cases" for ::1 at 2025-12-17 22:07:20 +0700
Processing by Api::AuthController#me as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::CasesController#index as HTML
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 781)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 4941)


Started GET "/api/cases" for ::1 at 2025-12-17 22:07:20 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 4760)


Started POST "/api/auth/login" for ::1 at 2025-12-17 22:07:34 +0700
Processing by Api::AuthController#login as HTML
  Parameters: {"email"=>"cs@demo.com", "password"=>"[FILTERED]", "auth"=>{"email"=>"cs@demo.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'cs@demo.com' LIMIT 1[0m
  â†³ app/controllers/api/auth_controller.rb:5:in `login'
Completed 200 OK in 187ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 550)


Started GET "/api/cases" for ::1 at 2025-12-17 22:07:34 +0700
Started GET "/api/auth/me" for ::1 at 2025-12-17 22:07:34 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::AuthController#me as HTML
  [1m[36mCase Load (0.7ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.5ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 1232)


  [1m[36mSite Load (0.5ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 5761)


Started GET "/api/cases" for ::1 at 2025-12-17 22:07:34 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.4ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 4760)


Started GET "/api/clients" for ::1 at 2025-12-17 22:07:41 +0700
Processing by Api::ClientsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` ORDER BY `clients`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1074)


Started GET "/api/clients" for ::1 at 2025-12-17 22:07:41 +0700
Processing by Api::ClientsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` ORDER BY `clients`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1074)


Started GET "/api/clients/2/sites" for ::1 at 2025-12-17 22:07:43 +0700
Processing by Api::ClientsController#sites as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/clients_controller.rb:8:in `sites'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`client_id` = 2 ORDER BY `sites`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:10:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1591)


Started GET "/api/sites/3/contacts" for ::1 at 2025-12-17 22:07:44 +0700
Processing by Api::SitesController#contacts as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/sites_controller.rb:3:in `contacts'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`site_id` = 3 ORDER BY `contacts`.`name` ASC[0m
  â†³ app/controllers/api/sites_controller.rb:5:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1592)


Started GET "/api/clients" for ::1 at 2025-12-17 22:09:11 +0700
Processing by Api::ClientsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` ORDER BY `clients`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1074)


Started GET "/api/clients/2/sites" for ::1 at 2025-12-17 22:09:32 +0700
Processing by Api::ClientsController#sites as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/clients_controller.rb:8:in `sites'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`client_id` = 2 ORDER BY `sites`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:10:in `map'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1591)


Started GET "/api/sites/3/contacts" for ::1 at 2025-12-17 22:09:33 +0700
Processing by Api::SitesController#contacts as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/sites_controller.rb:3:in `contacts'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`site_id` = 3 ORDER BY `contacts`.`name` ASC[0m
  â†³ app/controllers/api/sites_controller.rb:5:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1592)


Started POST "/api/cases" for ::1 at 2025-12-17 22:10:09 +0700
Processing by Api::CasesController#create as HTML
  Parameters: {"client_id"=>2, "site_id"=>3, "contact_id"=>4, "description"=>"ÄÃ¨n khÃ´ng sÃ¡ng", "case_type"=>"repair", "priority"=>"medium", "case"=>{"client_id"=>2, "site_id"=>3, "contact_id"=>4, "description"=>"ÄÃ¨n khÃ´ng sÃ¡ng", "case_type"=>"repair", "priority"=>"medium"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
[31mUnpermitted parameter: :case. Context: { controller: Api::CasesController, action: create, request: #<ActionDispatch::Request:0x0000020ef1cb3b60>, params: {"client_id"=>2, "site_id"=>3, "contact_id"=>4, "description"=>"ÄÃ¨n khÃ´ng sÃ¡ng", "case_type"=>"repair", "priority"=>"medium", "controller"=>"api/cases", "action"=>"create", "case"=>{"client_id"=>2, "site_id"=>3, "contact_id"=>4, "description"=>"ÄÃ¨n khÃ´ng sÃ¡ng", "case_type"=>"repair", "priority"=>"medium"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/case.rb:34:in `generate_case_number'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC LIMIT 1[0m
  â†³ app/models/case.rb:34:in `generate_case_number'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:27:in `create'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:27:in `create'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:27:in `create'
  [1m[36mCase Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `cases` WHERE `cases`.`case_number` = 'C-0002' LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:27:in `create'
  [1m[36mCase Create (0.2ms)[0m  [1m[32mINSERT INTO `cases` (`case_number`, `client_id`, `site_id`, `contact_id`, `created_by_id`, `assigned_to_id`, `description`, `case_type`, `priority`, `investigation_report`, `investigation_checklist`, `root_cause`, `solution_description`, `solution_checklist`, `planned_execution_date`, `cost_required`, `estimated_cost`, `cost_description`, `cost_status`, `cost_approved_by_id`, `execution_report`, `execution_checklist`, `client_signature`, `client_feedback`, `client_rating`, `cs_notes`, `final_feedback`, `final_rating`, `current_stage`, `status`, `attempt_number`, `created_at`, `updated_at`) VALUES ('C-0002', 2, 3, 4, 1, NULL, 'ÄÃ¨n khÃ´ng sÃ¡ng', 'repair', 'medium', NULL, NULL, NULL, NULL, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 1, 'open', 1, '2025-12-17 15:10:09.630324', '2025-12-17 15:10:09.630324')[0m
  â†³ app/controllers/api/cases_controller.rb:27:in `create'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/cases_controller.rb:27:in `create'
Completed 201 Created in 16ms (Views: 0.2ms | ActiveRecord: 4.1ms | Allocations: 5934)


Started GET "/api/cases" for ::1 at 2025-12-17 22:10:09 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 4993)


Started GET "/api/cases" for ::1 at 2025-12-17 22:10:09 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 4971)


Started GET "/api/cases" for ::1 at 2025-12-17 22:11:25 +0700
Started GET "/api/auth/me" for ::1 at 2025-12-17 22:11:25 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::AuthController#me as HTML
  [1m[36mCase Load (0.4ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.5ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1276)


  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 5972)


Started GET "/api/auth/me" for ::1 at 2025-12-17 22:11:25 +0700
Started GET "/api/cases" for ::1 at 2025-12-17 22:11:25 +0700
Processing by Api::AuthController#me as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 569)


Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 4971)


Started GET "/api/cases" for ::1 at 2025-12-17 22:13:28 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:13:28 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1449)


  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.4ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:14:in `map'
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 5595)


Started GET "/api/cases" for ::1 at 2025-12-17 22:14:13 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:14:13 +0700
Started GET "/api/auth/me" for ::1 at 2025-12-17 22:14:13 +0700
Processing by Api::UsersController#technicians as HTML
Processing by Api::AuthController#me as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 6401)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 7758)


Started GET "/api/auth/me" for ::1 at 2025-12-17 22:14:13 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:14:13 +0700
Processing by Api::AuthController#me as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::UsersController#technicians as HTML
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 822)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1301)


Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 65ms (Views: 0.3ms | ActiveRecord: 5.1ms | Allocations: 37388)


Started GET "/api/cases" for ::1 at 2025-12-17 22:14:13 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 4994)


Started GET "/api/cases?status=open" for ::1 at 2025-12-17 22:16:51 +0700
Processing by Api::CasesController#index as HTML
  Parameters: {"status"=>"open"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.6ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`status` = 'open' ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.4ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.3ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 4[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 4197)


Started GET "/api/cases?status=pending" for ::1 at 2025-12-17 22:16:53 +0700
Processing by Api::CasesController#index as HTML
  Parameters: {"status"=>"pending"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`status` = 'pending' ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1208)


Started GET "/api/cases?status=in_progress" for ::1 at 2025-12-17 22:16:54 +0700
Processing by Api::CasesController#index as HTML
  Parameters: {"status"=>"in_progress"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`status` = 'in_progress' ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1208)


Started GET "/api/cases?status=completed" for ::1 at 2025-12-17 22:16:56 +0700
Processing by Api::CasesController#index as HTML
  Parameters: {"status"=>"completed"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`status` = 'completed' ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1208)


Started GET "/api/cases?status=closed" for ::1 at 2025-12-17 22:16:57 +0700
Processing by Api::CasesController#index as HTML
  Parameters: {"status"=>"closed"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`status` = 'closed' ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 4792)


Started GET "/api/cases" for ::1 at 2025-12-17 22:16:59 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 4972)


Started GET "/api/cases?status=open" for ::1 at 2025-12-17 22:17:03 +0700
Processing by Api::CasesController#index as HTML
  Parameters: {"status"=>"open"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`status` = 'open' ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 4[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 4187)


Started GET "/api/cases?status=open&case_type=warranty" for ::1 at 2025-12-17 22:17:06 +0700
Processing by Api::CasesController#index as HTML
  Parameters: {"status"=>"open", "case_type"=>"warranty"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`status` = 'open' AND `cases`.`case_type` = 'warranty' ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1247)


Started GET "/api/cases?status=open&case_type=maintenance" for ::1 at 2025-12-17 22:17:07 +0700
Processing by Api::CasesController#index as HTML
  Parameters: {"status"=>"open", "case_type"=>"maintenance"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`status` = 'open' AND `cases`.`case_type` = 'maintenance' ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1238)


Started GET "/api/cases?status=open&case_type=repair" for ::1 at 2025-12-17 22:17:08 +0700
Processing by Api::CasesController#index as HTML
  Parameters: {"status"=>"open", "case_type"=>"repair"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`status` = 'open' AND `cases`.`case_type` = 'repair' ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 4[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 10ms (Views: 0.5ms | ActiveRecord: 1.2ms | Allocations: 4217)


Started GET "/api/cases?status=open&case_type=repair&assigned_to=unassigned" for ::1 at 2025-12-17 22:17:11 +0700
Processing by Api::CasesController#index as HTML
  Parameters: {"status"=>"open", "case_type"=>"repair", "assigned_to"=>"unassigned"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`status` = 'open' AND `cases`.`case_type` = 'repair' AND `cases`.`assigned_to_id` = NULL AND `cases`.`assigned_to_id` IS NULL ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1292)


Started GET "/api/cases?status=open&case_type=repair&assigned_to=2" for ::1 at 2025-12-17 22:17:12 +0700
Processing by Api::CasesController#index as HTML
  Parameters: {"status"=>"open", "case_type"=>"repair", "assigned_to"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`status` = 'open' AND `cases`.`case_type` = 'repair' AND `cases`.`assigned_to_id` = 2 ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1265)


Started GET "/api/cases?status=open&case_type=repair" for ::1 at 2025-12-17 22:17:13 +0700
Processing by Api::CasesController#index as HTML
  Parameters: {"status"=>"open", "case_type"=>"repair"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`status` = 'open' AND `cases`.`case_type` = 'repair' ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.3ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 4[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 1.3ms | Allocations: 4217)


Started GET "/api/cases?case_type=repair" for ::1 at 2025-12-17 22:17:14 +0700
Processing by Api::CasesController#index as HTML
  Parameters: {"case_type"=>"repair"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`case_type` = 'repair' ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 4[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 4187)


Started GET "/api/cases" for ::1 at 2025-12-17 22:17:16 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 4972)


Started POST "/api/auth/login" for ::1 at 2025-12-17 22:17:53 +0700
Processing by Api::AuthController#login as HTML
  Parameters: {"email"=>"tech@demo.com", "password"=>"[FILTERED]", "auth"=>{"email"=>"tech@demo.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'tech@demo.com' LIMIT 1[0m
  â†³ app/controllers/api/auth_controller.rb:5:in `login'
Completed 200 OK in 187ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 670)


Started GET "/api/auth/me" for ::1 at 2025-12-17 22:17:53 +0700
Started GET "/api/cases" for ::1 at 2025-12-17 22:17:53 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:17:53 +0700
Processing by Api::AuthController#me as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::CasesController#index as HTML
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 797)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 5243)


Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1070)


Started GET "/api/cases" for ::1 at 2025-12-17 22:17:53 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:17:53 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::UsersController#technicians as HTML
  [1m[36mCase Load (0.4ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.7ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2523)


  [1m[36mSite Load (0.3ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 2.2ms | Allocations: 6481)


Started POST "/api/auth/login" for ::1 at 2025-12-17 22:18:04 +0700
Processing by Api::AuthController#login as HTML
  Parameters: {"email"=>"leader@demo.com", "password"=>"[FILTERED]", "auth"=>{"email"=>"leader@demo.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'leader@demo.com' LIMIT 1[0m
  â†³ app/controllers/api/auth_controller.rb:5:in `login'
Completed 200 OK in 188ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 548)


Started GET "/api/auth/me" for ::1 at 2025-12-17 22:18:04 +0700
Started GET "/api/cases" for ::1 at 2025-12-17 22:18:04 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:18:04 +0700
Processing by Api::AuthController#me as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::CasesController#index as HTML
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 784)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::UsersController#technicians as HTML
  [1m[36mCase Load (0.9ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.5ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 2489)


  [1m[36mSite Load (0.7ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.5ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:18:04 +0700
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 3.7ms | Allocations: 7016)


Started GET "/api/cases" for ::1 at 2025-12-17 22:18:04 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1098)


Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 4972)


Started POST "/api/auth/login" for ::1 at 2025-12-17 22:18:08 +0700
Processing by Api::AuthController#login as HTML
  Parameters: {"email"=>"cs@demo.com", "password"=>"[FILTERED]", "auth"=>{"email"=>"cs@demo.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'cs@demo.com' LIMIT 1[0m
  â†³ app/controllers/api/auth_controller.rb:5:in `login'
Completed 200 OK in 187ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 547)


Started GET "/api/auth/me" for ::1 at 2025-12-17 22:18:08 +0700
Started GET "/api/cases" for ::1 at 2025-12-17 22:18:08 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:18:08 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::AuthController#me as HTML
  [1m[36mCase Load (0.8ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::UsersController#technicians as HTML
  [1m[36mClient Load (1.4ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1471)


  [1m[36mSite Load (0.4ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.5ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 27ms (Views: 1.1ms | ActiveRecord: 4.2ms | Allocations: 6974)


  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 25ms (Views: 0.3ms | ActiveRecord: 7.8ms | Allocations: 5217)


Started GET "/api/cases" for ::1 at 2025-12-17 22:18:08 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:18:08 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (1.0ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1749)


  [1m[36mClient Load (0.8ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.9ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.9ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 4.2ms | Allocations: 6481)


Started GET "/api/clients" for ::1 at 2025-12-17 22:19:45 +0700
Processing by Api::ClientsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` ORDER BY `clients`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1164)


Started GET "/api/clients" for ::1 at 2025-12-17 22:19:45 +0700
Processing by Api::ClientsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` ORDER BY `clients`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1074)


Started GET "/api/clients/2/sites" for ::1 at 2025-12-17 22:21:24 +0700
Processing by Api::ClientsController#sites as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/clients_controller.rb:8:in `sites'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`client_id` = 2 ORDER BY `sites`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:10:in `map'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1920)


Started GET "/api/sites/3/contacts" for ::1 at 2025-12-17 22:21:25 +0700
Processing by Api::SitesController#contacts as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/sites_controller.rb:3:in `contacts'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`site_id` = 3 ORDER BY `contacts`.`name` ASC[0m
  â†³ app/controllers/api/sites_controller.rb:5:in `map'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1980)


Started GET "/api/sites/3/contacts" for ::1 at 2025-12-17 22:21:30 +0700
Processing by Api::SitesController#contacts as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/sites_controller.rb:3:in `contacts'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`site_id` = 3 ORDER BY `contacts`.`name` ASC[0m
  â†³ app/controllers/api/sites_controller.rb:5:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1592)


Started POST "/api/cases" for ::1 at 2025-12-17 22:25:14 +0700
Processing by Api::CasesController#create as HTML
  Parameters: {"client_id"=>2, "site_id"=>3, "contact_id"=>4, "description"=>"Rá»›t gÆ°Æ¡ng chiáº¿u háº­u", "case_type"=>"maintenance", "priority"=>"low", "case"=>{"client_id"=>2, "site_id"=>3, "contact_id"=>4, "description"=>"Rá»›t gÆ°Æ¡ng chiáº¿u háº­u", "case_type"=>"maintenance", "priority"=>"low"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
[31mUnpermitted parameter: :case. Context: { controller: Api::CasesController, action: create, request: #<ActionDispatch::Request:0x0000020ef230f798>, params: {"client_id"=>2, "site_id"=>3, "contact_id"=>4, "description"=>"Rá»›t gÆ°Æ¡ng chiáº¿u háº­u", "case_type"=>"maintenance", "priority"=>"low", "controller"=>"api/cases", "action"=>"create", "case"=>{"client_id"=>2, "site_id"=>3, "contact_id"=>4, "description"=>"Rá»›t gÆ°Æ¡ng chiáº¿u háº­u", "case_type"=>"maintenance", "priority"=>"low"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/case.rb:34:in `generate_case_number'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC LIMIT 1[0m
  â†³ app/models/case.rb:34:in `generate_case_number'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:28:in `create'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:28:in `create'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:28:in `create'
  [1m[36mCase Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `cases` WHERE `cases`.`case_number` = 'C-0003' LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:28:in `create'
  [1m[36mCase Create (0.3ms)[0m  [1m[32mINSERT INTO `cases` (`case_number`, `client_id`, `site_id`, `contact_id`, `created_by_id`, `assigned_to_id`, `description`, `case_type`, `priority`, `investigation_report`, `investigation_checklist`, `root_cause`, `solution_description`, `solution_checklist`, `planned_execution_date`, `cost_required`, `estimated_cost`, `cost_description`, `cost_status`, `cost_approved_by_id`, `execution_report`, `execution_checklist`, `client_signature`, `client_feedback`, `client_rating`, `cs_notes`, `final_feedback`, `final_rating`, `current_stage`, `status`, `attempt_number`, `created_at`, `updated_at`) VALUES ('C-0003', 2, 3, 4, 1, NULL, 'Rá»›t gÆ°Æ¡ng chiáº¿u háº­u', 'maintenance', 'low', NULL, NULL, NULL, NULL, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 1, 'open', 1, '2025-12-17 15:25:14.301009', '2025-12-17 15:25:14.301009')[0m
  â†³ app/controllers/api/cases_controller.rb:28:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/cases_controller.rb:28:in `create'
Completed 201 Created in 19ms (Views: 0.3ms | ActiveRecord: 5.6ms | Allocations: 7236)


Started GET "/api/cases" for ::1 at 2025-12-17 22:25:14 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:25:14 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1470)


  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.7ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.8ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:25:14 +0700
  [1m[36mSite Load (0.8ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (3.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 6.7ms | Allocations: 6154)


Started GET "/api/cases" for ::1 at 2025-12-17 22:25:14 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1094)


Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 5060)


Started GET "/api/clients" for ::1 at 2025-12-17 22:25:32 +0700
Processing by Api::ClientsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` ORDER BY `clients`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1074)


Started GET "/api/clients" for ::1 at 2025-12-17 22:25:32 +0700
Processing by Api::ClientsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` ORDER BY `clients`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1074)


Started GET "/api/cases" for ::1 at 2025-12-17 22:25:38 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:25:38 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::UsersController#technicians as HTML
  [1m[36mCase Load (0.8ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (2.4ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 2569)


  [1m[36mSite Load (0.6ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (1.0ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 27ms (Views: 0.5ms | ActiveRecord: 6.6ms | Allocations: 6709)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:25:39 +0700
Started GET "/api/cases" for ::1 at 2025-12-17 22:25:39 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1449)


  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.4ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 5684)


Started GET "/api/clients" for ::1 at 2025-12-17 22:25:40 +0700
Processing by Api::ClientsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` ORDER BY `clients`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1074)


Started GET "/api/clients" for ::1 at 2025-12-17 22:25:40 +0700
Processing by Api::ClientsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` ORDER BY `clients`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1074)


Started GET "/api/cases" for ::1 at 2025-12-17 22:25:41 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:25:41 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1449)


  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 2.1ms | Allocations: 5833)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:25:41 +0700
Started GET "/api/cases" for ::1 at 2025-12-17 22:25:41 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1105)


Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 5060)


Started GET "/api/clients" for ::1 at 2025-12-17 22:25:43 +0700
Processing by Api::ClientsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` ORDER BY `clients`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1074)


Started GET "/api/clients" for ::1 at 2025-12-17 22:25:43 +0700
Processing by Api::ClientsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` ORDER BY `clients`.`name` ASC[0m
  â†³ app/controllers/api/clients_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1074)


Started GET "/api/cases" for ::1 at 2025-12-17 22:25:44 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:25:44 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::UsersController#technicians as HTML
  [1m[36mCase Load (0.5ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.4ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 2569)


  [1m[36mSite Load (0.3ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 14ms (Views: 0.3ms | ActiveRecord: 2.2ms | Allocations: 6569)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:25:45 +0700
Started GET "/api/cases" for ::1 at 2025-12-17 22:25:45 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 1103)


Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 12ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 5060)


Started GET "/api/cases/2" for ::1 at 2025-12-17 22:25:55 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:25:55 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"2"}
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.5ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:93:in `set_case'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
  [1m[36mClient Load (0.6ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 2148)


  [1m[36mSite Load (0.4ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 4999)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:25:55 +0700
Started GET "/api/cases/2" for ::1 at 2025-12-17 22:25:55 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1084)


Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:93:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 3114)


Started GET "/api/cases" for ::1 at 2025-12-17 22:26:18 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:26:18 +0700
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::UsersController#technicians as HTML
  [1m[36mCase Load (0.5ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mClient Load (0.4ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.3ms | Allocations: 2569)


  [1m[36mSite Load (0.5ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 2.3ms | Allocations: 6569)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:26:18 +0700
Started GET "/api/cases" for ::1 at 2025-12-17 22:26:18 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1084)


Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.2ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 5060)


Started GET "/api/cases/1" for ::1 at 2025-12-17 22:26:19 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:26:19 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.5ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:93:in `set_case'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
  [1m[36mClient Load (0.5ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 2037)


  [1m[36mSite Load (0.6ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:138:in `case_detail_json'
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 3.0ms | Allocations: 5524)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:26:19 +0700
Started GET "/api/cases/1" for ::1 at 2025-12-17 22:26:19 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 1084)


Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.2ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:93:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:138:in `case_detail_json'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 3693)


Started GET "/api/cases" for ::1 at 2025-12-17 22:26:23 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:26:23 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1449)


  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 2.0ms | Allocations: 5684)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:26:23 +0700
Started GET "/api/cases" for ::1 at 2025-12-17 22:26:23 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1086)


Processing by Api::CasesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` ORDER BY `cases`.`created_at` DESC[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` IN (2, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mSite Load (0.3ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` IN (3, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` IN (4, 1)[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1[0m
  â†³ app/controllers/api/cases_controller.rb:15:in `map'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 5060)


Started GET "/api/cases/2" for ::1 at 2025-12-17 22:26:25 +0700
Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:26:25 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"2"}
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.9ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:93:in `set_case'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
  [1m[36mClient Load (0.5ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.2ms | Allocations: 2056)


  [1m[36mSite Load (0.4ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 3.1ms | Allocations: 4615)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:26:25 +0700
Started GET "/api/cases/2" for ::1 at 2025-12-17 22:26:25 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1477)


  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.3ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:93:in `set_case'
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:134:in `case_detail_json'
  [1m[36mSite Load (0.1ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:135:in `case_detail_json'
  [1m[36mContact Load (0.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:136:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:137:in `case_detail_json'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 3738)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:39:48 +0700
Started GET "/api/cases/2" for ::1 at 2025-12-17 22:39:48 +0700
Started GET "/api/auth/me" for ::1 at 2025-12-17 22:39:48 +0700
Processing by Api::AuthController#me as HTML
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 7131)


Started GET "/api/auth/me" for ::1 at 2025-12-17 22:39:48 +0700
  [1m[36mCase Load (1.1ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:94:in `set_case'
  [1m[36mClient Load (1.4ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:147:in `case_detail_json'
  [1m[36mSite Load (0.9ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:148:in `case_detail_json'
Processing by Api::AuthController#me as HTML
  [1m[36mContact Load (2.4ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:149:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:150:in `case_detail_json'
Completed 500 Internal Server Error in 135ms (ActiveRecord: 7.2ms | Allocations: 42930)


  
NameError (undefined local variable or method `attachments_hash' for #<Api::CasesController:0x00000000016558>):
  
app/controllers/api/cases_controller.rb:184:in `case_detail_json'
app/controllers/api/cases_controller.rb:20:in `show'
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 4.5ms | Allocations: 5314)


Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (112.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 119ms (Views: 0.2ms | ActiveRecord: 113.0ms | Allocations: 89322)


Started GET "/api/users/technicians" for ::1 at 2025-12-17 22:39:48 +0700
Processing by Api::UsersController#technicians as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`role` = 'technician' ORDER BY `users`.`name` ASC[0m
  â†³ app/controllers/api/users_controller.rb:4:in `map'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 3376)


Started GET "/api/cases/2" for ::1 at 2025-12-17 22:39:49 +0700
Processing by Api::CasesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/application_controller.rb:12:in `authorize_request'
  [1m[36mCase Load (0.7ms)[0m  [1m[34mSELECT `cases`.* FROM `cases` WHERE `cases`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:94:in `set_case'
  [1m[36mClient Load (0.7ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:147:in `case_detail_json'
  [1m[36mSite Load (0.6ms)[0m  [1m[34mSELECT `sites`.* FROM `sites` WHERE `sites`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:148:in `case_detail_json'
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:149:in `case_detail_json'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/api/cases_controller.rb:150:in `case_detail_json'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 3.0ms | Allocations: 3125)


  
NameError (undefined local variable or method `attachments_hash' for #<Api::CasesController:0x00000000016828>):
  
app/controllers/api/cases_controller.rb:184:in `case_detail_json'
app/controllers/api/cases_controller.rb:20:in `show'
[dotenv] Set [36mDATABASE_PASSWORD[0m, [36mDATABASE_PORT[0m, [36mJWT_SECRET[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m, [36mDATABASE_PORT[0m, [36mJWT_SECRET[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('2287916445801775215', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1[0m
Migrating to CreateActiveStorageTables (20251217154243)
  [1m[35m (44.1ms)[0m  [1m[35mCREATE TABLE `active_storage_blobs` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `key` varchar(255) NOT NULL, `filename` varchar(255) NOT NULL, `content_type` varchar(255), `metadata` text, `service_name` varchar(255) NOT NULL, `byte_size` bigint NOT NULL, `checksum` varchar(255), `created_at` datetime(6) NOT NULL, UNIQUE INDEX `index_active_storage_blobs_on_key` (`key`))[0m
  [1m[35m (50.5ms)[0m  [1m[35mCREATE TABLE `active_storage_attachments` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255) NOT NULL, `record_type` varchar(255) NOT NULL, `record_id` bigint NOT NULL, `blob_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, INDEX `index_active_storage_attachments_on_blob_id` (`blob_id`), UNIQUE INDEX `index_active_storage_attachments_uniqueness` (`record_type`, `record_id`, `name`, `blob_id`), CONSTRAINT `fk_rails_c3b3935057`
FOREIGN KEY (`blob_id`)
  REFERENCES `active_storage_blobs` (`id`)
)[0m
  [1m[35m (40.7ms)[0m  [1m[35mCREATE TABLE `active_storage_variant_records` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `blob_id` bigint NOT NULL, `variation_digest` varchar(255) NOT NULL, UNIQUE INDEX `index_active_storage_variant_records_uniqueness` (`blob_id`, `variation_digest`), CONSTRAINT `fk_rails_993965df05`
FOREIGN KEY (`blob_id`)
  REFERENCES `active_storage_blobs` (`id`)
)[0m
  [1m[36mActiveRecord::SchemaMigration Create (2.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20251217154243')[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('2287916445801775215')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
