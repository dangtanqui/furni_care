@import "tailwindcss";

@layer components {
  /* Primary Button - Main background color */
  .btn-primary {
    @apply bg-[var(--accent)] text-white px-4 py-2 rounded-full transition-all duration-200 cursor-pointer border-2;
    border-color: var(--accent);
    @apply hover:bg-[var(--accent-light)] hover:border-[var(--accent-light)] active:bg-[var(--accent-dark)] active:border-[var(--accent-dark)];
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-[var(--accent)] disabled:hover:border-[var(--accent)];
    @apply focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:ring-offset-2;
  }

  /* Secondary Button - Border and text with main color */
  .btn-secondary {
    @apply bg-transparent border-2 border-[var(--accent)] text-[var(--accent)] px-4 py-2 rounded-full transition-all duration-200 cursor-pointer;
    @apply hover:bg-[var(--accent-light)] hover:border-[var(--accent-light)] hover:text-white active:bg-[var(--accent-dark)] active:border-[var(--accent-dark)];
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent disabled:hover:border-[var(--accent)] disabled:hover:text-[var(--accent)];
    @apply focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:ring-offset-2;
    color: var(--accent);
  }

  /* Tertiary Button - Only text with main color (link style) */
  .btn-tertiary {
    @apply bg-transparent text-[var(--accent)] px-4 py-2 rounded-full transition-all duration-200 cursor-pointer;
    border: none !important;
    @apply hover:text-[var(--accent-light)] hover:underline active:text-[var(--accent-dark)];
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:no-underline;
    @apply focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:ring-offset-2;
    color: var(--accent);
  }

  button.btn-tertiary,
  a.btn-tertiary,
  .btn-tertiary {
    border: none !important;
    box-shadow: none !important;
  }

  button.btn-tertiary:hover,
  button.btn-tertiary:active,
  button.btn-tertiary:focus,
  button.btn-tertiary:focus-visible,
  button.btn-tertiary:visited,
  a.btn-tertiary:hover,
  a.btn-tertiary:active,
  a.btn-tertiary:focus,
  a.btn-tertiary:focus-visible,
  a.btn-tertiary:visited,
  .btn-tertiary:hover,
  .btn-tertiary:active,
  .btn-tertiary:focus,
  .btn-tertiary:focus-visible,
  .btn-tertiary:visited {
    border: none !important;
    outline: none;
    box-shadow: none !important;
  }

  .btn-secondary svg,
  .btn-tertiary svg {
    color: inherit;
    stroke: currentColor;
    fill: currentColor;
  }

  /* Legacy support - kept to avoid breaking old code */
  .btn-accent {
    @apply bg-[var(--accent)] text-white px-4 py-2 rounded-full transition-all duration-200 cursor-pointer;
    @apply hover:bg-[var(--accent-light)] active:bg-[var(--accent-dark)];
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-[var(--accent)];
    @apply focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:ring-offset-2;
  }

  /* Button Container - To separate button and message on different rows */
  .button-container {
    @apply flex flex-col gap-2;
  }

  .button-container-row {
    @apply flex flex-col md:flex-row gap-3 items-start md:items-center;
  }

  /* Ensure button is always on a separate row */
  .button-wrapper {
    @apply block w-full;
  }

  .button-message {
    @apply text-sm mt-2;
  }

  .button-message-error {
    @apply text-red-600;
  }

  .button-message-warning {
    @apply text-yellow-600;
  }

  .button-message-info {
    @apply text-blue-600;
  }

  .card {
    @apply bg-white rounded-xl shadow-sm border border-gray-100;
  }

  .input-field {
    @apply w-full px-3 py-2 border border-gray-300 rounded-lg;
    padding-right: 0.75rem;
  }

  .input-field::placeholder {
    @apply text-gray-400;
  }
}

.input-field:focus {
  outline: none;
  border-color: transparent;
  box-shadow: inset 0 0 0 2px var(--accent);
}

.input-field:focus-visible {
  outline: none;
  border-color: transparent;
  box-shadow: inset 0 0 0 2px var(--accent);
}

/* Better dropdown arrow spacing */
select.input-field {
  @apply appearance-none bg-white;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 20 20' fill='%2394a3b8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6 8l4 4 4-4' stroke='%2394a3b8' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round' fill='none'/%3E%3C/svg%3E");
  background-position: calc(100% - 12px) center;
  background-repeat: no-repeat;
  background-size: 22px 22px;
  padding-right: 3rem; /* ensure arrow not clipped */
}

/* Number input spinner positioning - browser handles spacing automatically */
input[type="number"].input-field {
  appearance: textfield; /* Standard property */
  -moz-appearance: textfield; /* Firefox - hide spinner */
}

input[type="number"].input-field::-webkit-inner-spin-button,
input[type="number"].input-field::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Select dropdown needs extra padding for arrow */
select.input-field {
  padding-right: 3rem;
}

/* Ensure all buttons have responsive width by default - placed at end of file for highest priority */
/* Use !important to ensure override of all other CSS, including Tailwind utilities */
.btn-primary,
.btn-secondary,
.btn-tertiary,
.btn-accent {
  width: 100% !important;
  max-width: 100% !important;
}

@media (min-width: 768px) {
  .btn-primary,
  .btn-secondary,
  .btn-tertiary,
  .btn-accent {
    width: auto !important;
    max-width: none !important;
  }
}

/* Screen reader only - visually hidden but accessible to screen readers */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Fade-in animation for content load */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in {
  animation: fadeIn 0.3s ease-out;
}

/* Smooth transitions for interactive elements */
.transition-smooth {
  transition: all 0.2s ease-in-out;
}

