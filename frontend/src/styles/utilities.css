@import "tailwindcss";

@layer components {
  /* Primary Button - Màu nền chủ đạo */
  .btn-primary {
    @apply bg-[var(--accent)] text-white px-4 py-2 rounded-full transition-all duration-200 cursor-pointer border-2;
    border-color: var(--accent);
    @apply hover:bg-[var(--accent-light)] hover:border-[var(--accent-light)] active:bg-[var(--accent-dark)] active:border-[var(--accent-dark)] active:scale-[0.98];
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-[var(--accent)] disabled:hover:border-[var(--accent)];
    @apply focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:ring-offset-2;
  }

  /* Secondary Button - Viền và text màu chủ đạo */
  .btn-secondary {
    @apply bg-transparent border-2 border-[var(--accent)] text-[var(--accent)] px-4 py-2 rounded-full transition-all duration-200 cursor-pointer;
    @apply hover:bg-[var(--accent-light)] hover:border-[var(--accent-light)] hover:text-white active:bg-[var(--accent-dark)] active:border-[var(--accent-dark)] active:scale-[0.98];
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent disabled:hover:border-[var(--accent)] disabled:hover:text-[var(--accent)];
    @apply focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:ring-offset-2;
    color: var(--accent);
  }

  /* Tertiary Button - Chỉ text màu chủ đạo (link style) */
  .btn-tertiary {
    @apply bg-transparent text-[var(--accent)] px-4 py-2 rounded-full transition-all duration-200 cursor-pointer border-2;
    border-color: transparent;
    @apply hover:text-[var(--accent-light)] hover:underline active:text-[var(--accent-dark)];
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:no-underline;
    @apply focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:ring-offset-2;
    color: var(--accent);
  }

  /* Danger Button - Cho các action nguy hiểm (Reject, Delete) */
  .btn-danger {
    @apply bg-red-500 text-white px-4 py-2 rounded-full transition-all duration-200 cursor-pointer;
    @apply hover:bg-red-600 active:bg-red-700 active:scale-[0.98];
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-red-500;
    @apply focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2;
  }

  .btn-secondary svg,
  .btn-tertiary svg {
    color: inherit;
    stroke: currentColor;
    fill: currentColor;
  }

  /* Legacy support - giữ lại để không break code cũ */
  .btn-accent {
    @apply bg-[var(--accent)] text-white px-4 py-2 rounded-full transition-all duration-200 cursor-pointer;
    @apply hover:bg-[var(--accent-light)] active:bg-[var(--accent-dark)] active:scale-[0.98];
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-[var(--accent)];
    @apply focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:ring-offset-2;
  }

  /* Button Container - Để button và message tách hàng */
  .button-container {
    @apply flex flex-col gap-2;
  }

  .button-container-row {
    @apply flex flex-col md:flex-row gap-3 items-start md:items-center;
  }

  /* Đảm bảo button luôn ở một hàng riêng */
  .button-wrapper {
    @apply block w-full;
  }

  .button-message {
    @apply text-sm mt-2;
  }

  .button-message-error {
    @apply text-red-600;
  }

  .button-message-warning {
    @apply text-yellow-600;
  }

  .button-message-info {
    @apply text-blue-600;
  }

  .card {
    @apply bg-white rounded-xl shadow-sm border border-gray-100;
  }

  .input-field {
    @apply w-full px-3 py-2 border border-gray-300 rounded-lg;
    padding-right: 0.75rem;
  }

  .input-field::placeholder {
    @apply text-gray-400;
  }
}

.input-field:focus {
  outline: none;
  border-color: transparent;
  box-shadow: inset 0 0 0 2px var(--accent);
}

.input-field:focus-visible {
  outline: none;
  border-color: transparent;
  box-shadow: inset 0 0 0 2px var(--accent);
}

/* Better dropdown arrow spacing */
select.input-field {
  @apply appearance-none bg-white;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 20 20' fill='%2394a3b8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6 8l4 4 4-4' stroke='%2394a3b8' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round' fill='none'/%3E%3C/svg%3E");
  background-position: calc(100% - 12px) center;
  background-repeat: no-repeat;
  background-size: 22px 22px;
  padding-right: 3rem; /* ensure arrow not clipped */
}

/* Number input spinner positioning - browser handles spacing automatically */
input[type="number"].input-field {
  appearance: textfield; /* Standard property */
  -moz-appearance: textfield; /* Firefox - hide spinner */
}

input[type="number"].input-field::-webkit-inner-spin-button,
input[type="number"].input-field::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Select dropdown needs extra padding for arrow */
select.input-field {
  padding-right: 3rem;
}

/* Đảm bảo tất cả buttons có responsive width mặc định - đặt cuối file để có priority cao nhất */
/* Sử dụng !important để đảm bảo override mọi CSS khác, kể cả Tailwind utilities */
.btn-primary,
.btn-secondary,
.btn-tertiary,
.btn-danger,
.btn-accent {
  width: 100% !important;
  max-width: 100% !important;
}

@media (min-width: 768px) {
  .btn-primary,
  .btn-secondary,
  .btn-tertiary,
  .btn-danger,
  .btn-accent {
    width: auto !important;
    max-width: none !important;
  }
}

